<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Camera</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/static/css/bootstrap.min.css" />
  </head>

  <body>
    {{ template "navbar" }}


    <div class="container">
      <h2>Camera</h2>
      <button id="trigger-trap" style="position: relative;display: none" type="button">
        Trigger trap
      </button>
      <button id="take-snapshot-recording" style="position: relative" type="button">
        Take test recording
      </button>
      <div id="snapshot-stopped" style="display: none">
        <p id="snapshot-stopped-message"></p>
        <button id="snapshot-restart" type="button">
          Continue viewing camera
        </button>
      </div>
      <div>
        <p id="snapshot-frame"></p>
      </div>
      <form id="upload-test-recording-form" enctype="multipart/form-data">
        <input type="file" name="recording" accept=".cptv">
        <button type="submit">Upload Test Recording</button>
      </form>
      <div id="test-videos" style="display: none;">
        <!-- Dropdown Menu -->
        <div class="mt-2">
          <select class="form-select" id="test-video-options">
            <option selected>Select Video Option</option>
          </select>
        </div>
        <!-- Play Button -->
        <div class="mt-2">
          <button id="play-test-video" class="btn btn-primary" type="button">
            Play
          </button>
        </div>
      </div>
      <div class="row" style="position: relative">
        <canvas
          id="frameCanvas"
          width="160"
          height="120"
          style="width: 100%; position: absolute; left: 0; top: 0; z-index: 0"
        ></canvas>
        <canvas
          id="trackCanvas"
          width="160"
          height="120"
          style="width: 100%; position: absolute; left: 0; top: 0; z-index: 1"
        ></canvas>
      </div>
    </div>
  </body>
  <script
    type="text/javascript"
    src="/static/js/jquery-3.3.1.slim.min.js"
  ></script>
  <script src="/static/js/bootstrap.min.js"></script>
  <script src="/static/js/camera.js" type="module"></script>
</html>
